/* body, html, #root {
  height: 100%;
  margin: 0;
  font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
  background: radial-gradient(ellipse at 60% 30%, #ff2e44 0%, #3c050d 85%, #110205 100%);
}

.helix-root {
  display: flex;
  min-height: 100vh;
  background: transparent;
  color: #ffccd2;
}

.helix-sidebar {
  width: 70px;
  background: rgba(30, 2, 18, 0.92);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px 0;
  border-right: 2px solid #ff3d71bb;
}

.helix-avatar-wrap {
  margin-bottom: 56px;
  position: relative;
}

.helix-avatar-pulse {
  position: absolute;
  top: -7px; left: -7px; right: -7px; bottom: -7px;
  border-radius: 50%;
  border: 2.5px solid #ff3d71aa;
  opacity: 0.6;
  animation: pulse 2.3s infinite;
}
@keyframes pulse {
  0% {transform: scale(1);}
  60% {transform: scale(1.19);}
  100% {transform: scale(1);}
}
.helix-avatar {
  font-size: 2.5rem;
  color: #ff365a;
  background: #2b0012;
  border-radius: 50%;
  padding: 10px;
  box-shadow: 0 0 18px #ff3d7177;
  border: 2.5px solid #ff425555;
}

.helix-sidebar-btns {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.helix-btn {
  background: none;
  border: none;
  color: #ff5770;
  font-size: 1.5rem;
  cursor: pointer;
  transition: color 0.15s;
}
.helix-btn:hover { color: #ffabbc; }

.helix-btn.mic-on svg,
.helix-mic-btn.mic-on svg {
  animation: micGlow 1.2s infinite;
  color: #ffabbc;
}

@keyframes micGlow {
  0% { filter: drop-shadow(0 0 0px #ff3d71); }
  50% { filter: drop-shadow(0 0 8px #ff3d71); }
  100% { filter: drop-shadow(0 0 0px #ff3d71); }
}

.helix-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px 16px;
  min-width: 0;
}

.helix-core-outer {
  margin-bottom: 18px;
}
.helix-core {
  width: 75px; height: 75px;
  border-radius: 50%;
  background: linear-gradient(135deg,#310012 75%,#ff4255 100%);
  box-shadow: 0 0 48px #ff426566;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.9rem;
  color: #fff2f5;
  border: 4px solid #ff3d718a;
  position: relative;
}
.helix-core::after {
  content:"";
  position: absolute;
  top: -5px; left: -5px; right: -5px; bottom: -5px;
  border-radius: 50%;
  border: 2.5px solid #ffabbc66;
  opacity: 0.23;
}

.helix-chat-area {
  width: 100%;
  max-width: 640px;
  min-height: 300px;
  height: 44vh;
  background: rgba(49, 1, 20, 0.81);
  border-radius: 17px;
  box-shadow: 0 8px 32px #ff3d7133;
  padding: 24px;
  overflow-y: auto;
  border: 1.8px solid #ff44663a;
  margin-bottom: 22px;
  display: flex;
  flex-direction: column;
  gap: 13px;
}

.helix-msg {
  display: flex;
  align-items: flex-end;
}
.helix-msg.user {
  justify-content: flex-end;
}
.helix-msg.ai {
  justify-content: flex-start;
}

.helix-msg-bubble {
  max-width: 82%;
  font-size: 1.1rem;
  padding: 12px 17px;
  border-radius: 14px;
  line-height: 1.5;
  background: rgba(67, 2, 30, 0.98);
  box-shadow: 0 2px 12px #ff3d711a;
  word-break: break-word;
}
.helix-msg-bubble.ai {
  background: linear-gradient(108deg,#36071a 70%,#ff3d71a1 100%);
  border-left: 4px solid #ff3d71cc;
  color: #ffe3ea;
}
.helix-msg-bubble.user {
  background: #2d0815e6;
  border-right: 3px solid #ff3d719c;
  color: #ffd1de;
  text-align: right;
}

.helix-input-row {
  width: 100%;
  max-width: 700px;
  display: flex;
  margin-top: 10px;
}
.helix-input-wrapper {
  flex: 1;
  position: relative;
}
.helix-input {
  width: 100%;
  padding: 13px 48px 13px 20px;
  font-size: 1.1rem;
  border-radius: 15px 0 0 15px;
  border: 2px solid #ff3d71c8;
  border-right: none;
  background: rgba(41, 4, 21, 0.93);
  color: #ffd1df;
  outline: none;
  transition: border-color 0.2s;
  box-sizing: border-box;
}
.helix-input:focus {
  border-color: #ff4568;
}
.helix-mic-btn {
  position: absolute;
  top: 55%;
  right: 8px;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #ff5770;
  font-size: 1.3rem;
  cursor: pointer;
}
.helix-mic-btn:hover {
  color: #ffabbc;
}
.helix-send-btn {
  background: linear-gradient(90deg,#ff3d71 40%,#2b0012 100%);
  color: #fff4f6;
  border: none;
  border-radius: 0 15px 15px 0;
  padding: 0 26px;
  font-size: 1.15rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 1px 6px #ff3d7140;
  transition: background 0.22s;
}
.helix-send-btn:hover {
  background: linear-gradient(100deg,#ff3d71 60%,#eb1b43 100%);
}

.helix-status {
  margin-top: 18px;
  font-size: 0.96rem;
  color: #ff7e96c7;
  text-align: center;
}

.typing-dots {
  display: inline-flex;
  margin-left: 7px;
  font-size: 1.5em;
}
.typing-dots span {
  animation: bounce 1s infinite alternate;
  margin-right: 2px;
}
.typing-dots span:nth-child(2) { animation-delay: .15s; }
.typing-dots span:nth-child(3) { animation-delay: .3s; }
@keyframes bounce {
  to { transform: translateY(-4px); opacity: 0.6; }
}

 */


 /* ---------- Theme Primitives ---------- */
:root {
  --bg-0: #0c0b10;
  --bg-1: #121018;
  --bg-2: #191723;
  --panel: #1d1826;
  --panel-2: #231c2f;
  --text: #e9e6ee;
  --muted: #c9c4d3;
  --subtle: #9b95a8;
  --accent: #ff3d71;
  --accent-soft: #ff658d;
  --accent-dim: #c02f57;
  --good: #58d6a9;
  --warn: #ffbf66;
  --ring: 0 0 40px rgba(255,61,113,.28);
  --shadow: 0 10px 30px rgba(0,0,0,.45);
  --blur: saturate(120%) blur(0px);
}

:root[data-theme="crimson"] {
  --bg-0: #0e0a0d;
  --bg-1: #140b10;
  --bg-2: #1b0f16;
  --panel: #1e0f17;
  --panel-2: #230f1a;
  --text: #ffeef4;
  --muted: #ffd9e4;
  --subtle: #f4a5ba;
  --accent: #ff3d71;
  --accent-soft: #ff7aa1;
  --accent-dim: #b92a4f;
}

:root[data-theme="deep"] {
  --bg-0: #07090c;
  --bg-1: #0b1016;
  --bg-2: #0e141c;
  --panel: #121923;
  --panel-2: #151e2a;
  --text: #e6f0ff;
  --muted: #cfe0ff;
  --subtle: #98b3df;
  --accent: #89a7ff;
  --accent-soft: #afc2ff;
  --accent-dim: #617df0;
}

/* ---------- Global ---------- */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  color: var(--text);
  background: radial-gradient(1200px 800px at 70% -20%, var(--accent-dim) -60%, transparent 40%),
              linear-gradient(180deg, var(--bg-1) 0%, var(--bg-0) 70%);
  filter: var(--blur);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Ambient glow and animated noise overlay (ultra subtle) */
.helix-bg-glow {
  position: fixed; inset: -20% -20% auto -20%;
  height: 70vh;
  background: radial-gradient(40vw 30vw at 60% 10%, rgba(255,61,113,.12), transparent 60%),
              radial-gradient(35vw 25vw at 20% 10%, rgba(255,61,113,.08), transparent 60%);
  pointer-events: none;
  z-index: 0;
  filter: blur(40px);
}
.helix-noise {
  position: fixed; inset: 0; pointer-events: none; z-index: 0; opacity: .05;
  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'>\
  <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter>\
  <rect width='120' height='120' filter='url(%23n)' opacity='0.65'/></svg>");
  animation: grain 6s steps(6) infinite;
}
@keyframes grain { 0%{transform:translate(0,0)} 100%{transform:translate(-120px,-120px)} }

/* ---------- Layout ---------- */
.helix-root {
  position: relative;
  display: flex;
  min-height: 100vh;
  z-index: 1;
}

.helix-sidebar {
  width: 74px;
  background: linear-gradient(180deg, var(--panel-2), rgba(0,0,0,.2));
  display: flex; flex-direction: column; align-items: center;
  padding: 28px 0; border-right: 1px solid rgba(255,255,255,.06);
  box-shadow: var(--shadow);
}

.helix-avatar-wrap { margin-bottom: 42px; position: relative; }
.helix-avatar-pulse {
  position: absolute; inset: -8px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  opacity: .35;
  animation: pulse 2.8s infinite ease-in-out;
}
.helix-avatar { font-size: 2rem; color: var(--accent); background: var(--bg-2); border-radius: 50%; padding: 10px; box-shadow: var(--ring); border: 2px solid rgba(255,255,255,.06); }
@keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.12)} }
.helix-sidebar-btns { display: flex; flex-direction: column; gap: 18px; }
.helix-btn {
  background: none; border: none; color: var(--subtle);
  font-size: 1.25rem; cursor: pointer; transition: .16s ease color, .16s ease transform;
}
.helix-btn:hover { color: var(--muted); transform: translateY(-1px); }
.helix-btn.mic-on svg, .helix-mic-btn.mic-on svg {
  animation: micGlow 1.2s infinite;
  color: var(--muted);
}

@keyframes micGlow {
  0% { filter: drop-shadow(0 0 0px var(--accent)); }
  50% { filter: drop-shadow(0 0 8px var(--accent)); }
  100% { filter: drop-shadow(0 0 0px var(--accent)); }
}

/* theme toggle */
.helix-theme-toggle { margin-top: auto; padding-top: 24px; }
.helix-mini-btn {
  display: inline-flex; gap: 8px; align-items: center;
  border-radius: 12px; padding: 8px 12px; border: 1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  color: var(--muted); cursor: pointer; font-size: .9rem;
}
.helix-mini-btn:hover { color: var(--text); border-color: rgba(255,255,255,.16); }

.helix-main {
  flex: 1; display: flex; flex-direction: column; align-items: center;
  padding: 28px 16px; min-width: 0;
}

/* ---------- Helix Core ---------- */
.helix-core-outer { margin-bottom: 14px; }
.helix-core {
  position: relative;
  width: 90px; height: 90px;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 45%, var(--panel), var(--panel-2));
  border: 3px solid rgba(255,255,255,.06);
  box-shadow: 0 0 60px rgba(0,0,0,.4), inset 0 0 20px rgba(0,0,0,.5);
}
.helix-core.spin .helix-svg { animation: coreSpin 10s linear infinite; }
@keyframes coreSpin { from { transform: rotate(0deg)} to { transform: rotate(360deg)} }

.helix-core-glow {
  content:""; position: absolute; inset: -10px; border-radius: 50%;
  background: radial-gradient(closest-side, rgba(255,61,113,.25), transparent 65%);
  filter: blur(8px); pointer-events: none;
}
.helix-svg { width: 100%; height: 100%; }
.helix-svg .ring { fill: none; stroke: var(--accent); opacity: .25; stroke-width: 1.7; }
.helix-svg .node.a { fill: var(--accent-soft); opacity: .9; }
.helix-svg .node.b { fill: var(--accent); opacity: .9; }
.helix-svg .rung { stroke: rgba(255,255,255,.14); stroke-width: 1.2; }

/* ---------- Model Row ---------- */
.helix-model-row { width: 100%; max-width: 760px; margin-bottom: 10px; }
.helix-model-top { display: flex; gap: 10px; align-items: center; }
.helix-model-select {
  flex: 1;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  color: var(--text);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px; padding: 10px 12px; outline: none;
}
.helix-model-select:hover { border-color: rgba(255,255,255,.14); }

.helix-model-purpose { margin-top: 8px; display: flex; gap: 8px; align-items: center; }

.helix-badge {
  display:inline-flex; align-items:center; gap:6px;
  margin-right:8px; padding:4px 8px; border-radius:10px; font-size:.85rem;
  border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  color: var(--muted);
}
.helix-badge.ok { border-color: rgba(80,210,150,.4); background: rgba(80,210,150,.12); color: #d6ffef; }
.helix-badge.warn { border-color: rgba(255,180,90,.35); background: rgba(255,180,90,.12); color: #ffe7c7; }
.helix-badge.now { border-color: rgba(140,170,255,.4); background: rgba(140,170,255,.12); color: #e6ecff; }

/* ---------- Chat ---------- */
.helix-chat-area {
  width: 100%; max-width: 760px; min-height: 320px; height: 52vh;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.12));
  border-radius: 16px; border: 1px solid rgba(255,255,255,.08);
  box-shadow: var(--shadow); padding: 20px;
  overflow-y: auto; display: flex; flex-direction: column; gap: 12px;
  backdrop-filter: blur(6px);
}
.helix-chat-area::-webkit-scrollbar { width: 10px; }
.helix-chat-area::-webkit-scrollbar-thumb { background: rgba(255,255,255,.12); border-radius: 8px; }

.helix-msg { display: flex; align-items: flex-end; }
.helix-msg.user { justify-content: flex-end; }
.helix-msg.ai { justify-content: flex-start; }

.helix-msg-bubble {
  max-width: 84%; font-size: 1.02rem; line-height: 1.55;
  padding: 12px 16px; border-radius: 14px; word-break: break-word;
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  color: var(--muted);
}
.helix-msg-bubble.ai { border-left: 3px solid var(--accent); color: var(--text); }
.helix-msg-bubble.user { border-right: 3px solid var(--accent); color: var(--muted); background: linear-gradient(180deg, var(--panel-2), var(--panel)); }

/* code blocks container */
.helix-code-wrap { margin-top: 6px; }
.helix-code-bar {
  display: flex; justify-content: space-between; align-items: center;
  font-size: .85rem; color: var(--subtle); margin-bottom: 6px;
}
.helix-code-actions { display: inline-flex; gap: 6px; }
/* .helix-icon-btn { background: none; border: 1px solid rgba(255,255,255,.08); color: var(--muted); padding: 4px 6px; border-radius: 8px; cursor: pointer; } */
.helix-icon-btn:hover { color: var(--text); border-color: rgba(255,255,255,.18); }

.typing-dots { display: inline-flex; margin-left: 6px; font-size: 1.2em; }
.typing-dots span { animation: bounce 1s infinite alternate; margin-right: 1px; }
.typing-dots span:nth-child(2){ animation-delay:.12s } .typing-dots span:nth-child(3){ animation-delay:.24s }
@keyframes bounce { to { transform: translateY(-3px); opacity: .7; }}

/* ---------- Input Row ---------- */
.helix-input-row {
  width: 100%;
  max-width: 760px; /* keep old width */
  display: flex;
  margin-top: 10px; /* keep old spacing */
}

.helix-input-wrapper {
  flex: 1;
  position: relative;
}

.helix-input {
  width: 100%;
  padding: 13px 48px 13px 20px; /* old padding to accommodate mic */
  font-size: 1.1rem;
  border-radius: 15px 0 0 15px;
  border: 2px solid rgba(255, 255, 255, 0.1); /* new subtle border */
  border-right: none;
  background: linear-gradient(180deg, var(--panel), var(--panel-2)); /* new gradient */
  color: var(--text); /* new text color */
  outline: none;
  transition: border-color 0.2s;
  box-sizing: border-box;
}

.helix-input:focus {
  border-color: var(--accent); /* new accent color on focus */
  box-shadow: inset 0 0 0 1px rgba(255, 61, 113, 0.25); /* mimic new inset glow */
}

.helix-mic-btn {
  position: absolute;
  top: 55%;
  right: 8px;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--subtle); /* new color instead of old pink */
  font-size: 1.3rem;
  cursor: pointer;
  transition: filter 0.2s; /* smooth hover effect */
}
.helix-mic-btn:hover {
  filter: brightness(1.3); /* makes it glow slightly */
}

.helix-send-btn {
  background: linear-gradient(90deg, var(--accent), var(--accent-dim)); /* new gradient */
  color: #fff; /* keep white text */
  border: none;
  border-radius: 0 15px 15px 0; /* keep old radius */
  padding: 0 26px;
  font-size: 1.15rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: var(--ring); /* new shadow */
  transition: filter 0.22s;
}

.helix-send-btn:hover {
  filter: brightness(1.08); /* subtle hover effect */
}


.helix-status { margin-top: 10px; font-size: .92rem; color: var(--subtle); text-align: center; }
.helix-status-dot {
  display: inline-block; width: 8px; height: 8px; margin-right: 8px; border-radius: 50%;
  background: rgba(255,255,255,.25);
}
.helix-status-dot.on { background: var(--accent); box-shadow: 0 0 10px var(--accent); }

/* toast */
.helix-copy-toast {
  position: fixed; left: 50%; transform: translateX(-50%);
  bottom: 22px; background: rgba(0,0,0,.45); color: #fff; padding: 8px 14px;
  border-radius: 10px; opacity: 0; pointer-events: none; transition: .18s ease;
  border: 1px solid rgba(255,255,255,.08);
}
.helix-copy-toast.show { opacity: 1; }

/* Thinking effect (gentle vignette pulse) */
.helix-root.is-thinking .helix-bg-glow { filter: blur(52px) brightness(1.05); }
/* Make select and its options readable on dark */
.helix-model-select {
  appearance: none;
  color: var(--text);
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding: 10px 12px;
}
.helix-model-select:focus { outline: none; border-color: var(--accent); }
.helix-model-select optgroup { color: var(--subtle); background: var(--panel); }
.helix-model-select option {
  color: var(--text);
  background: var(--panel-2);
}

/* Helix core colors & speed are driven by CSS variables now */
.helix-core.spin .helix-svg { animation: coreSpin var(--spinSec, 10s) linear infinite; }
.helix-svg .ring { stroke: var(--helixRing, var(--accent)); opacity: .28; }
.helix-svg .node.a { fill: var(--helixA, var(--accent-soft)); }
.helix-svg .node.b { fill: var(--helixB, var(--accent)); }
.helix-core-glow { background: radial-gradient(closest-side, var(--helixGlow, rgba(255,61,113,.25)), transparent 65%); }

/* Power badge flavor */
.helix-badge.power {
  border-color: rgba(140,170,255,.35);
  background: rgba(140,170,255,.12);
  color: #e6ecff;
}
/* Force readable dropdown options on Windows / dark themes */
.helix-model-select,
.helix-model-select optgroup,
.helix-model-select option {
  color: var(--text);
  background-color: var(--panel-2);
}

/* Some environments ignore option backgroundsâ€”add border and bigger line-height */
.helix-model-select {
  border: 1px solid rgba(255,255,255,.15);
  line-height: 1.2;
}