/* --- Base + animated background --- */
body, html, #root {
  height: 100%;
  margin: 0;
  font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
  background: radial-gradient(ellipse at 60% 30%, #ff2e44 0%, #3c050d 85%, #110205 100%);
  animation: bgPulse 12s ease-in-out infinite;
}

@keyframes bgPulse {
  0%   { filter: saturate(0.95) brightness(0.96); }
  50%  { filter: saturate(1.1) brightness(1.03); }
  100% { filter: saturate(0.95) brightness(0.96); }
}

.helix-root {
  display: flex;
  min-height: 100vh;
  background: transparent;
  color: #ffccd2;
}
.helix-root.is-thinking .helix-core { box-shadow: 0 0 72px #ff426580; }

/* --- Sidebar --- */
.helix-sidebar {
  width: 70px;
  background: rgba(30, 2, 18, 0.92);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 32px 0;
  border-right: 2px solid #ff3d71bb;
}

.helix-avatar-wrap { margin-bottom: 56px; position: relative; }
.helix-avatar-pulse {
  position: absolute;
  top: -7px; left: -7px; right: -7px; bottom: -7px;
  border-radius: 50%;
  border: 2.5px solid #ff3d71aa;
  opacity: 0.35;
  animation: pulse 2.3s infinite;
}
.helix-avatar-pulse.active { opacity: 0.7; }
@keyframes pulse { 0% {transform: scale(1);} 60% {transform: scale(1.19);} 100% {transform: scale(1);} }

.helix-avatar {
  font-size: 2.5rem;
  color: #ff365a;
  background: #2b0012;
  border-radius: 50%;
  padding: 10px;
  box-shadow: 0 0 18px #ff3d7177;
  border: 2.5px solid #ff425555;
}

.helix-sidebar-btns { display: flex; flex-direction: column; gap: 24px; }
.helix-btn {
  background: none; border: none; color: #ff5770;
  font-size: 1.5rem; cursor: pointer; transition: color 0.15s;
}
.helix-btn:hover { color: #ffabbc; }

/* --- Main --- */
.helix-main {
  flex: 1;
  display: flex; flex-direction: column; align-items: center;
  padding: 32px 16px; min-width: 0;
}
.helix-core-outer { margin-bottom: 18px; }
.helix-core {
  width: 75px; height: 75px; border-radius: 50%;
  background: linear-gradient(135deg,#310012 75%,#ff4255 100%);
  box-shadow: 0 0 48px #ff426566;
  display: flex; align-items: center; justify-content: center;
  font-size: 2.9rem; color: #fff2f5; border: 4px solid #ff3d718a; position: relative;
}
.helix-core::after {
  content:""; position: absolute; inset: -5px; border-radius: 50%;
  border: 2.5px solid #ffabbc66; opacity: 0.23;
}

/* --- Model row --- */
.helix-model-row {
  width: 100%; max-width: 640px;
  display: grid; grid-template-columns: 1fr;
  gap: 8px; margin-bottom: 12px;
}
.helix-model-select {
  width: 100%;
  padding: 10px 12px; border-radius: 12px; border: 1.6px solid #ff5979b0;
  background: rgba(49, 1, 20, 0.81); color: #ffd7df; outline: none;
}
.helix-model-select:hover { border-color: #ff7892; }
.helix-model-purpose {
  font-size: 0.92rem; color: #ff9eb0d0; padding-left: 4px;
}

/* --- Chat area --- */
.helix-chat-area {
  width: 100%; max-width: 640px; min-height: 300px; height: 44vh;
  background: rgba(49, 1, 20, 0.81); border-radius: 17px;
  box-shadow: 0 8px 32px #ff3d7133; padding: 24px; overflow-y: auto;
  border: 1.8px solid #ff44663a; margin-bottom: 16px;
  display: flex; flex-direction: column; gap: 13px;
}

.helix-msg { display: flex; align-items: flex-end; }
.helix-msg.user { justify-content: flex-end; }
.helix-msg.ai { justify-content: flex-start; }
.helix-msg-bubble {
  max-width: 82%; font-size: 1.05rem; padding: 12px 17px;
  border-radius: 14px; line-height: 1.5; background: rgba(67, 2, 30, 0.98);
  box-shadow: 0 2px 12px #ff3d711a; word-break: break-word;
}
.helix-msg-bubble.ai {
  background: linear-gradient(108deg,#36071a 70%,#ff3d71a1 100%);
  border-left: 4px solid #ff3d71cc; color: #ffe3ea;
}
.helix-msg-bubble.user {
  background: #2d0815e6; border-right: 3px solid #ff3d719c; color: #ffd1de; text-align: right;
}

/* --- Input row --- */
.helix-input-row { width: 100%; max-width: 640px; display: flex; margin-top: 6px; }
.helix-input {
  flex: 1; padding: 13px 20px; font-size: 1.05rem;
  border-radius: 15px 0 0 15px; border: 2px solid #ff3d71c8;
  background: rgba(41, 4, 21, 0.93); color: #ffd1df; outline: none;
  transition: border-color 0.2s;
}
.helix-input:focus { border-color: #ff4568; }
.helix-send-btn {
  background: linear-gradient(90deg,#ff3d71 40%,#2b0012 100%); color: #fff4f6;
  border: none; border-radius: 0 15px 15px 0; padding: 0 26px;
  font-size: 1.12rem; font-weight: 600; cursor: pointer;
  box-shadow: 0 1px 6px #ff3d7140; transition: background 0.22s;
}
.helix-send-btn:hover { background: linear-gradient(100deg,#ff3d71 60%,#eb1b43 100%); }

/* --- Status --- */
.helix-status { margin-top: 10px; font-size: 0.96rem; color: #ff7e96c7; text-align: center; }
.helix-status-dot {
  display:inline-block; width:10px; height:10px; border-radius:50%;
  background:#8b3a46; margin-right:8px; box-shadow:0 0 0 0 rgba(255,61,113,.0);
  transition: transform .2s;
}
.helix-status-dot.on {
  background:#ff3d71; box-shadow:0 0 0 6px rgba(255,61,113,.2); transform: scale(1.1);
}

/* --- Typing dots --- */
.typing-dots { display: inline-flex; margin-left: 7px; font-size: 1.4em; }
.typing-dots span { animation: bounce 1s infinite alternate; margin-right: 2px; }
.typing-dots span:nth-child(2) { animation-delay: .15s; }
.typing-dots span:nth-child(3) { animation-delay: .3s; }
@keyframes bounce { to { transform: translateY(-4px); opacity: 0.6; } }

/* --- Code block wrapper --- */
.helix-code-wrap {
  border:1px solid rgba(255,61,113,.25);
  border-radius:12px; overflow:hidden; margin-top:6px; background:#0f0f13;
}
.helix-code-bar {
  display:flex; align-items:center; justify-content:space-between;
  padding:6px 10px; background:rgba(255,61,113,.08); border-bottom:1px solid rgba(255,61,113,.2);
}
.helix-code-lang { font-size:.88rem; color:#ffd4dd; }
.helix-code-actions { display:flex; gap:8px; }
.helix-icon-btn {
  background:transparent; color:#ffd4dd; border:1px solid rgba(255,61,113,.35);
  padding:6px 8px; border-radius:8px; cursor:pointer;
}
.helix-icon-btn:hover { background:rgba(255,61,113,.15); }

/* small copy toast */
.helix-copy-toast {
  position: fixed; top: 14px; right: 14px;
  background: rgba(20, 20, 24, .9);
  color: #fff; border: 1px solid rgba(255,61,113,.35);
  padding: 8px 10px; border-radius: 8px; opacity: 0; transform: translateY(-6px);
  transition: all .18s ease-in-out; z-index: 40; pointer-events:none;
}
.helix-copy-toast.show {
  opacity: 1; transform: translateY(0);
}
/* model picker toolbar */
.helix-model-top {
  width: 100%;
  max-width: 640px;
  display: flex;
  gap: 8px;
  align-items: center;
}

.helix-mini-btn {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(255,61,113,.1); color: #ffd7df; border: 1px solid rgba(255,61,113,.35);
  padding: 8px 10px; border-radius: 10px; cursor: pointer;
}
.helix-mini-btn:hover { background: rgba(255,61,113,.18); }

/* not installed warning */
.helix-warning {
  width: 100%; max-width: 640px; margin-top: 6px;
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
  background: rgba(255,140,0,.08); color: #ffd8b0;
  border: 1px solid rgba(255,140,0,.35); border-radius: 10px; padding: 8px 10px;
}

/* pull log area */
.helix-pull-log {
  width: 100%; max-width: 640px; margin-top: 6px; white-space: pre-wrap;
  background: rgba(20,20,24,.7); color: #eee; border: 1px solid rgba(255,61,113,.22);
  padding: 8px 10px; border-radius: 10px; max-height: 140px; overflow: auto;
  box-shadow: inset 0 0 12px rgba(0,0,0,.25);
}
/* badges under the model selector */
.helix-badge {
  display:inline-flex; align-items:center; gap:6px;
  margin-right:8px; padding:4px 8px; border-radius:10px; font-size:.85rem;
  border:1px solid rgba(255,61,113,.35); background: rgba(255,61,113,.08); color:#ffd7df;
}
.helix-badge.ok { border-color: rgba(60,200,120,.45); background: rgba(60,200,120,.12); color: #d9ffe9; }
.helix-badge.warn { border-color: rgba(255,160,0,.45); background: rgba(255,160,0,.12); color: #ffe7c2; }
.helix-badge.now { border-color: rgba(140,170,255,.45); background: rgba(140,170,255,.12); color: #e6ecff; }
